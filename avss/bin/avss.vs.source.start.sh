#!/bin/bash

AVSS_VS_SOURCE_FRAME_RATE_FPS=25
AVSS_VS_SOURCE_DISPLAY_SIZE_PIXEL=2560x1440
AVSS_VS_SOURCE_DISPLAY_ID=$AVSS_DISPLAY
AVSS_VS_SOURCE_BIT_RATE=3M
AVSS_VS_SOURCE_GOP=25
AVSS_VS_SOURCE_MCAST_URL=rtp://225.0.5.20:6000

export AVSS_VS_SOURCE_FRAME_RATE_FPS 
export AVSS_VS_SOURCE DISPLAY_SIZE_PIXEL 
export AVSS_VS_SOURCE_DISPLAY_ID 
export AVSS_VS_SOURCE_BIT_RATE 
export AVSS_VS_SOURCE_GOP
export AVSS_VS_SOURCE_MCAST_URL

export AVSS_VS_START_SOURCE_COMMAND=" 
       ffmpeg \
       -f x11grab \
       -framerate $AVSS_VS_SOURCE_FRAME_RATE_FPS \
       -video_size $AVSS_VS_SOURCE_DISPLAY_SIZE_PIXEL \
       -i $AVSS_VS_SOURCE_DISPLAY_ID \
       -c:video hevc_nvenc -preset fast \
       -pix_fmt bgr0 \
       -b:v $AVSS_VS_SOURCE_BIT_RATE \
       -g $AVSS_VS_SOURCE_GOP \
       -an \
       -f rtp_mpegts \
       $AVSS_VS_SOURCE_MCAST_URL"

#$AVSS_VS_START_SOURCE_COMMAND

